<div
  class="flex justify-center gap-2"
  role="group"
  aria-label="OTP Input"
>
  <input
    *ngFor="let digit of otpValues; let i = index"
    #otpInput
    [type]="mask ? 'password' : 'text'"
    class="w-12 h-12 text-center border rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
    maxlength="1"
    [(ngModel)]="otpValues[i]"
    (input)="onInput($event, i)"
    (keydown)="onKeyDown($event, i)"
    (paste)="onPaste($event)"
    [attr.aria-label]="'Digit ' + (i + 1)"
    [disabled]="disabled"
    [attr.inputmode]="type === 'number' ? 'numeric' : 'text'"
    [attr.autocomplete]="'one-time-code'"
  />
</div>

<div *ngIf="showResend" class="mt-2 text-center">
  <button
    class="text-blue-600 hover:underline disabled:text-gray-400"
    (click)="resendOtp()"
    [disabled]="resendTimer > 0"
  >
    Resend OTP {{ resendTimer > 0 ? '(' + resendTimer + 's)' : '' }}
  </button>
</div>
